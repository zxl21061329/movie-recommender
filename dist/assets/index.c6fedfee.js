import{e as k,d as V}from"./index.483ac227.js";import{l,q as _,A as c,y as e,x as t,Q as N,P as j,F as d,t as z,C as f,G as u}from"./element-plus.82ea873e.js";const v={data(){return{newsList:[],newsForm:{_title__icontains:null,_summary__icontains:null,total:0,page:1,pagesize:10}}},methods:{formatDateTime:k,handleCurrentChange(s){this.newsForm.page=s,this.searchNews()},searchNews(){V.post("/news/",this.newsForm).then(s=>{this.newsList=s.data.result,this.newsForm.total=s.data.total})}},beforeMount(){this.searchNews()}},B={style:{padding:"30px"}},D=d("\u641C\u7D22");function L(s,a,T,U,o,r){const p=l("el-input"),i=l("el-form-item"),g=l("el-button"),h=l("el-form"),m=l("el-row"),w=l("el-tag"),y=l("el-card"),F=l("el-link"),x=l("el-timeline-item"),C=l("el-timeline"),b=l("el-pagination");return _(),c("div",B,[e(m,{type:"flex",justify:"center"},{default:t(()=>[e(h,{model:o.newsForm,inline:!0},{default:t(()=>[e(i,{label:"\u6807\u9898"},{default:t(()=>[e(p,{modelValue:o.newsForm._title__icontains,"onUpdate:modelValue":a[0]||(a[0]=n=>o.newsForm._title__icontains=n),clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"\u5185\u5BB9"},{default:t(()=>[e(p,{modelValue:o.newsForm._summary__icontains,"onUpdate:modelValue":a[1]||(a[1]=n=>o.newsForm._summary__icontains=n),clearable:""},null,8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(g,{type:"primary",onClick:a[2]||(a[2]=n=>{o.newsForm.page=1,r.searchNews()})},{default:t(()=>[D]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(m,{type:"flex",justify:"center"},{default:t(()=>[e(C,{style:{width:"80%"}},{default:t(()=>[(_(!0),c(N,null,j(o.newsList,n=>(_(),z(x,{timestamp:r.formatDateTime(n.pubDate),placement:"top",key:n.id,size:"large"},{default:t(()=>[e(F,{href:n.sourceUrl,target:"_blank",underline:!1},{default:t(()=>[e(y,null,{default:t(()=>[f("h4",null,u(n.title),1),f("p",null,u(n.summary),1),e(w,{type:"info"},{default:t(()=>[d("\u6765\u6E90: "+u(n.infoSource),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1}),e(m,{type:"flex",justify:"center",style:{"margin-top":"30px"}},{default:t(()=>[e(b,{onCurrentChange:r.handleCurrentChange,"current-page":o.newsForm.page,"page-size":o.newsForm.pagesize,layout:"prev, pager, next, jumper, total",total:o.newsForm.total,background:""},null,8,["onCurrentChange","current-page","page-size","total"])]),_:1})])}v.render=L;export{v as default};
