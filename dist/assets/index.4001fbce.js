import{c as g,d as _}from"./index.f11cc044.js";import{r,I as k,q as a,A as o,C as t,Q as u,P as v,D,G as l}from"./element-plus.82ea873e.js";const C={class:"container"},L={class:"content"},w={class:"sidebar"},x=["onClick"],T={class:"movie-list"},B=["onClick"],I=["src"],M={class:"info"},j={class:"description"},q={key:1},z={setup(A){const p=g(),n=r([]),i=r([]),c=r("");k(async()=>{await m(),await d()});const m=async()=>{try{const e=await _.get("/movie_list_types/");console.log("\u5F71\u5355\u7C7B\u578B API \u8FD4\u56DE\u6570\u636E:",e.data),e.data&&e.data.Data&&e.data.Data.types&&(i.value=e.data.Data.types,c.value=i.value[0]||"")}catch(e){console.error("\u83B7\u53D6\u5F71\u5355\u7C7B\u578B\u5931\u8D25:",e)}},d=async()=>{try{const e=await _.post("/movie_lists/",{page:1,pagesize:10,type:c.value});e.data&&e.data.Data&&e.data.Data.results?n.value=e.data.Data.results:console.error("\u8FD4\u56DE\u7684\u6570\u636E\u7ED3\u6784\u4E0D\u7B26\u5408\u9884\u671F:",e.data)}catch(e){console.error("\u83B7\u53D6\u5F71\u5355\u5217\u8868\u5931\u8D25:",e)}},h=async e=>{c.value=e,await d()},y=e=>{p.push({name:"MovieListDetail",params:{listId:e}})};return(e,P)=>(a(),o("div",C,[t("div",L,[t("div",w,[t("ul",null,[(a(!0),o(u,null,v(i.value,s=>(a(),o("li",{key:s,onClick:f=>h(s),class:D({active:s===c.value})},l(s),11,x))),128))])]),t("div",T,[n.value.length>0?(a(!0),o(u,{key:0},v(n.value,s=>(a(),o("div",{key:s.id,class:"list-card",onClick:f=>y(s.id)},[t("img",{src:"/media/"+s.image_link,class:"cover"},null,8,I),t("div",M,[t("h3",null,l(s.name),1),t("p",j,l(s.description),1)])],8,B))),128)):(a(),o("p",q,"\u6682\u65E0\u5F71\u5355\u6570\u636E"))])])]))}};z.__scopeId="data-v-d1074562";export{z as default};
