import{g as _}from"./index.acb17a5b.js";import{r as u,I as k,q as t,A as o,G as l,Q as v,P as m,H as r,C as a,N as y,O as C}from"./element-plus.82ea873e.js";const f=c=>(y("data-v-09268617"),c=c(),C(),c),x={class:"movie-list-container"},w={key:0},I={key:1},$={key:2,class:"movie-list"},L=["onClick"],M=["src"],S={key:3,class:"movie-list-detail"},b=["src"],B=f(()=>a("h2",null,"\u7535\u5F71\u5217\u8868",-1)),N={class:"movie-list"},j=["onClick"],D=["src"],V={setup(c){const d=u([]),s=u(null);k(async()=>{try{const i=await _.get("/api/movie_lists/");d.value=i.data.movie_lists}catch(i){console.error("\u83B7\u53D6\u5F71\u5355\u5931\u8D25:",i)}});const p=async i=>{try{const n=await _.get(`/api/movie_list/${i}/`);s.value=n.data.movie_list}catch(n){console.error("\u83B7\u53D6\u5F71\u5355\u8BE6\u60C5\u5931\u8D25:",n)}},h=i=>{window.location.href=`/Detail/${i}`};return(i,n)=>(t(),o("div",x,[s.value?(t(),o("h1",I,l(s.value.name),1)):(t(),o("h1",w,"\u5F71\u5355")),s.value?r("",!0):(t(),o("div",$,[(t(!0),o(v,null,m(d.value,e=>(t(),o("div",{key:e.id,class:"movie-card",onClick:g=>p(e.id)},[a("img",{src:e.image,alt:"\u5F71\u5355\u5C01\u9762",class:"movie-cover"},null,8,M),a("h3",null,l(e.name),1),a("p",null,l(e.description),1)],8,L))),128))])),s.value?(t(),o("div",S,[a("button",{onClick:n[0]||(n[0]=e=>s.value=null)},"\u8FD4\u56DE\u5F71\u5355\u5217\u8868"),a("p",null,l(s.value.description),1),s.value.image?(t(),o("img",{key:0,src:s.value.image,alt:"\u5F71\u5355\u5C01\u9762"},null,8,b)):r("",!0),B,a("div",N,[(t(!0),o(v,null,m(s.value.movies,e=>(t(),o("div",{key:e.id,class:"movie-card",onClick:g=>h(e.id)},[a("img",{src:e.image,alt:"\u7535\u5F71\u5C01\u9762",class:"movie-cover"},null,8,D),a("h3",null,l(e.name),1)],8,j))),128))])])):r("",!0)]))}};V.__scopeId="data-v-09268617";export{V as default};
