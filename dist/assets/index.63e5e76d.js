import{a as m,c as v,d as h}from"./index.1199c709.js";import{r as n,I as g,q as a,A as o,H as y,Q as d,C as t,G as r,P as k,N as f,O as x}from"./element-plus.82ea873e.js";const D=i=>(f("data-v-23e0b18a"),i=i(),x(),i),I={class:"container"},q={key:0,class:"loading"},C={class:"header"},S=["src"],B={class:"meta"},N={class:"description"},b=D(()=>t("h2",{class:"section-title"},"\u5305\u542B\u7535\u5F71",-1)),j={class:"movie-grid"},w=["onClick"],M=["src"],R={class:"movie-title"},V={key:1,class:"empty-text"},$={key:2,class:"empty-text"},A={setup(i){const _=m(),u=v(),s=n(null),l=n(!0);g(async()=>{try{const e=await h.get(`/movie_list/${_.params.listId}/`);e.data&&e.data.Data?s.value=e.data.Data:console.error("\u8FD4\u56DE\u7684\u6570\u636E\u7ED3\u6784\u4E0D\u7B26\u5408\u9884\u671F:",e.data)}catch(e){e.response?console.error("\u8BF7\u6C42\u5DF2\u53D1\u51FA\uFF0C\u4F46\u670D\u52A1\u5668\u54CD\u5E94\u72B6\u6001\u7801\u4E0D\u5728 2xx \u8303\u56F4\u5185",e.response.status,e.response.data):e.request?console.error("\u6CA1\u6709\u6536\u5230\u54CD\u5E94",e.request):console.error("\u8BBE\u7F6E\u8BF7\u6C42\u65F6\u53D1\u751F\u9519\u8BEF",e.message)}finally{l.value=!1}});const p=e=>{u.push({name:"Detail",params:{id:e}})};return(e,E)=>(a(),o("div",I,[l.value?(a(),o("div",q,"\u52A0\u8F7D\u4E2D...")):y("",!0),s.value&&s.value.id?(a(),o(d,{key:1},[t("div",C,[t("img",{src:"/media/"+s.value.image_link,class:"cover"},null,8,S),t("div",B,[t("h1",null,r(s.value.name),1),t("p",N,r(s.value.description),1)])]),b,t("div",j,[s.value.movies&&s.value.movies.length>0?(a(!0),o(d,{key:0},k(s.value.movies,c=>(a(),o("div",{key:c.id,class:"movie-item",onClick:F=>p(c.id)},[t("img",{src:"/media/"+c.image_link,class:"poster"},null,8,M),t("h3",R,r(c.name),1)],8,w))),128)):(a(),o("p",V,"\u6B64\u5F71\u5355\u6682\u65E0\u7535\u5F71"))])],64)):(a(),o("p",$,"\u6682\u65E0\u5F71\u5355\u8BE6\u60C5\u6570\u636E"))]))}};A.__scopeId="data-v-23e0b18a";export{A as default};
