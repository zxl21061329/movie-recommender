import{a as v,c as m,d as h}from"./index.5c0afbab.js";import{r as c,I as f,q as t,A as o,H as g,Q as d,C as a,G as n,P as k,N as y,O as x}from"./element-plus.82ea873e.js";const b=r=>(y("data-v-fb9fdb56"),r=r(),x(),r),D={class:"container"},I={key:0,class:"loading"},q={class:"header"},C=["src"],S={class:"meta"},B={class:"description"},N=b(()=>a("h2",null,"\u5305\u542B\u7535\u5F71",-1)),j={class:"movie-grid"},w=["onClick"],M=["src"],R={key:1},V={key:2},$={setup(r){const _=v(),u=m(),s=c(null),l=c(!0);f(async()=>{try{const e=await h.get(`/movie_list/${_.params.listId}/`);e.data&&e.data.Data?s.value=e.data.Data:console.error("\u8FD4\u56DE\u7684\u6570\u636E\u7ED3\u6784\u4E0D\u7B26\u5408\u9884\u671F:",e.data)}catch(e){e.response?console.error("\u8BF7\u6C42\u5DF2\u53D1\u51FA\uFF0C\u4F46\u670D\u52A1\u5668\u54CD\u5E94\u72B6\u6001\u7801\u4E0D\u5728 2xx \u8303\u56F4\u5185",e.response.status,e.response.data):e.request?console.error("\u6CA1\u6709\u6536\u5230\u54CD\u5E94",e.request):console.error("\u8BBE\u7F6E\u8BF7\u6C42\u65F6\u53D1\u751F\u9519\u8BEF",e.message)}finally{l.value=!1}});const p=e=>{u.push({name:"Detail",params:{id:e}})};return(e,A)=>(t(),o("div",D,[l.value?(t(),o("div",I,"\u52A0\u8F7D\u4E2D...")):g("",!0),s.value&&s.value.id?(t(),o(d,{key:1},[a("div",q,[a("img",{src:"/media/"+s.value.image_link,class:"cover"},null,8,C),a("div",S,[a("h1",null,n(s.value.name),1),a("p",B,n(s.value.description),1)])]),N,a("div",j,[s.value.movies&&s.value.movies.length>0?(t(!0),o(d,{key:0},k(s.value.movies,i=>(t(),o("div",{key:i.id,class:"movie-item",onClick:E=>p(i.id)},[a("img",{src:"/media/"+i.image_link,class:"poster"},null,8,M),a("h3",null,n(i.name),1)],8,w))),128)):(t(),o("p",R,"\u6B64\u5F71\u5355\u6682\u65E0\u7535\u5F71"))])],64)):(t(),o("p",V,"\u6682\u65E0\u5F71\u5355\u8BE6\u60C5\u6570\u636E"))]))}};$.__scopeId="data-v-fb9fdb56";export{$ as default};
